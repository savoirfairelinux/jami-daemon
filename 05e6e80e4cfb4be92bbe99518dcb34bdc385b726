{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "de784618_7b0684fc",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 856
      },
      "writtenOn": "2022-04-25T13:20:03Z",
      "side": 1,
      "message": "just need to understand why we need this change",
      "revId": "05e6e80e4cfb4be92bbe99518dcb34bdc385b726",
      "serverId": "1e26b4c1-6b8c-47ff-9df7-501b633d3b5a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7ca9ec7d_943f8874",
        "filename": "src/sip/sip_utils.cpp",
        "patchSetId": 2
      },
      "lineNbr": 190,
      "author": {
        "id": 856
      },
      "writtenOn": "2022-04-25T13:20:03Z",
      "side": 1,
      "message": "what is the bug here? AFAIK, the string is only needed locally to create the uri. Do we need to keep it longer than that ?",
      "revId": "05e6e80e4cfb4be92bbe99518dcb34bdc385b726",
      "serverId": "1e26b4c1-6b8c-47ff-9df7-501b633d3b5a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "81a60a5e_77b0f800",
        "filename": "src/sip/sip_utils.cpp",
        "patchSetId": 2
      },
      "lineNbr": 190,
      "author": {
        "id": 919
      },
      "writtenOn": "2022-04-25T14:25:40Z",
      "side": 1,
      "message": "The string is used in a callback, probably in a DHT thread, after the SIPCall object -- owner of contactHdr -- is destroyed.  Resutling in used a after free corruption.  Read the gitlab issue for more information.",
      "parentUuid": "7ca9ec7d_943f8874",
      "revId": "05e6e80e4cfb4be92bbe99518dcb34bdc385b726",
      "serverId": "1e26b4c1-6b8c-47ff-9df7-501b633d3b5a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "87544ab8_e3e1254a",
        "filename": "src/sip/sip_utils.cpp",
        "patchSetId": 2
      },
      "lineNbr": 190,
      "author": {
        "id": 856
      },
      "writtenOn": "2022-04-25T18:48:13Z",
      "side": 1,
      "message": "The patch will probably do, but the issue I think is in SIPCall::merge(Call\u0026 call), when calling setSipTransport. We should not use std::move, to keep the string valid.",
      "parentUuid": "81a60a5e_77b0f800",
      "revId": "05e6e80e4cfb4be92bbe99518dcb34bdc385b726",
      "serverId": "1e26b4c1-6b8c-47ff-9df7-501b633d3b5a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "28104668_55f47269",
        "filename": "src/sip/sip_utils.cpp",
        "patchSetId": 2
      },
      "lineNbr": 190,
      "author": {
        "id": 220
      },
      "writtenOn": "2022-04-25T19:06:03Z",
      "side": 1,
      "message": "Moving the contactHeader should not change anything, the contactHeader should be movable without changing anything there. Binding the lifetime to the object makes more sense to me, as we pass a const ref in addContactHeader().\n\nAlso, pjsip_parse_uri heavily uses the pool and I prefer to see pjContact using the same pool",
      "parentUuid": "87544ab8_e3e1254a",
      "revId": "05e6e80e4cfb4be92bbe99518dcb34bdc385b726",
      "serverId": "1e26b4c1-6b8c-47ff-9df7-501b633d3b5a"
    }
  ]
}