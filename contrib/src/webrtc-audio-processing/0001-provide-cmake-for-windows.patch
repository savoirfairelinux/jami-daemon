--- /dev/null
+++ b/CMakeLists.txt
@@ -0,0 +1,417 @@
+cmake_minimum_required(VERSION 3.5.1)
+
+project(webrtc-audio-processing)
+
+set(webrtc_SOURCE_DIR ${CMAKE_CURRENT_SOURCE_DIR}/webrtc)
+
+list(APPEND webrtc_noinst_HEADERS
+    ${webrtc_SOURCE_DIR}/common.h
+    ${webrtc_SOURCE_DIR}/common_types.h
+    ${webrtc_SOURCE_DIR}/typedefs.h
+)
+
+list(APPEND webrtc_SOURCES
+    ${webrtc_SOURCE_DIR}/common_types.cc
+)
+
+# base
+list(APPEND webrtc_noinst_HEADERS
+    ${webrtc_SOURCE_DIR}/base/arraysize.h
+    ${webrtc_SOURCE_DIR}/base/atomicops.h
+    ${webrtc_SOURCE_DIR}/base/basictypes.h
+    ${webrtc_SOURCE_DIR}/base/constructormagic.h
+    ${webrtc_SOURCE_DIR}/base/safe_conversions.h
+    ${webrtc_SOURCE_DIR}/base/safe_conversions_impl.h
+    ${webrtc_SOURCE_DIR}/base/scoped_ptr.h
+    ${webrtc_SOURCE_DIR}/base/template_util.h
+    ${webrtc_SOURCE_DIR}/base/thread_annotations.h
+)
+list(APPEND webrtc_SOURCES
+    ${webrtc_SOURCE_DIR}/base/criticalsection.cc
+    ${webrtc_SOURCE_DIR}/base/criticalsection.h
+    ${webrtc_SOURCE_DIR}/base/checks.cc
+    ${webrtc_SOURCE_DIR}/base/checks.h
+    ${webrtc_SOURCE_DIR}/base/event.cc
+    ${webrtc_SOURCE_DIR}/base/event.h
+    ${webrtc_SOURCE_DIR}/base/platform_thread.cc
+    ${webrtc_SOURCE_DIR}/base/platform_thread.h
+    ${webrtc_SOURCE_DIR}/base/platform_file.cc
+    ${webrtc_SOURCE_DIR}/base/platform_file.h
+    ${webrtc_SOURCE_DIR}/base/stringutils.cc
+    ${webrtc_SOURCE_DIR}/base/stringutils.h
+    ${webrtc_SOURCE_DIR}/base/thread_checker.h
+    ${webrtc_SOURCE_DIR}/base/thread_checker_impl.cc
+    ${webrtc_SOURCE_DIR}/base/thread_checker_impl.h
+)
+
+# common_audio
+list(APPEND webrtc_noinst_HEADERS
+    ${webrtc_SRC_DIR}/common_audio/audio_util.h
+)
+list(APPEND webrtc_SOURCES
+    ${webrtc_SOURCE_DIR}/common_audio/resampler/include/push_resampler.h
+    ${webrtc_SOURCE_DIR}/common_audio/resampler/include/resampler.h
+    ${webrtc_SOURCE_DIR}/common_audio/resampler/push_sinc_resampler.h
+    ${webrtc_SOURCE_DIR}/common_audio/resampler/sinc_resampler.h
+    ${webrtc_SOURCE_DIR}/common_audio/resampler/sinusoidal_linear_chirp_source.h
+    ${webrtc_SOURCE_DIR}/common_audio/resampler/push_resampler.cc
+    ${webrtc_SOURCE_DIR}/common_audio/resampler/push_sinc_resampler.cc
+    ${webrtc_SOURCE_DIR}/common_audio/resampler/resampler.cc
+    ${webrtc_SOURCE_DIR}/common_audio/resampler/sinc_resampler.cc
+    ${webrtc_SOURCE_DIR}/common_audio/resampler/sinusoidal_linear_chirp_source.cc
+    ${webrtc_SOURCE_DIR}/common_audio/signal_processing/include/real_fft.h
+    ${webrtc_SOURCE_DIR}/common_audio/signal_processing/include/signal_processing_library.h
+    ${webrtc_SOURCE_DIR}/common_audio/signal_processing/include/spl_inl.h
+    ${webrtc_SOURCE_DIR}/common_audio/signal_processing/include/spl_inl_armv7.h
+    ${webrtc_SOURCE_DIR}/common_audio/signal_processing/include/spl_inl_mips.h
+    ${webrtc_SOURCE_DIR}/common_audio/signal_processing/auto_corr_to_refl_coef.c
+    ${webrtc_SOURCE_DIR}/common_audio/signal_processing/auto_correlation.c
+    ${webrtc_SOURCE_DIR}/common_audio/signal_processing/complex_fft.c
+    ${webrtc_SOURCE_DIR}/common_audio/signal_processing/complex_fft_tables.h
+    ${webrtc_SOURCE_DIR}/common_audio/signal_processing/copy_set_operations.c
+    ${webrtc_SOURCE_DIR}/common_audio/signal_processing/cross_correlation.c
+    ${webrtc_SOURCE_DIR}/common_audio/signal_processing/division_operations.c
+    ${webrtc_SOURCE_DIR}/common_audio/signal_processing/dot_product_with_scale.c
+    ${webrtc_SOURCE_DIR}/common_audio/signal_processing/downsample_fast.c
+    ${webrtc_SOURCE_DIR}/common_audio/signal_processing/energy.c
+    ${webrtc_SOURCE_DIR}/common_audio/signal_processing/filter_ar.c
+    ${webrtc_SOURCE_DIR}/common_audio/signal_processing/filter_ma_fast_q12.c
+    ${webrtc_SOURCE_DIR}/common_audio/signal_processing/get_hanning_window.c
+    ${webrtc_SOURCE_DIR}/common_audio/signal_processing/get_scaling_square.c
+    ${webrtc_SOURCE_DIR}/common_audio/signal_processing/ilbc_specific_functions.c
+    ${webrtc_SOURCE_DIR}/common_audio/signal_processing/levinson_durbin.c
+    ${webrtc_SOURCE_DIR}/common_audio/signal_processing/lpc_to_refl_coef.c
+    ${webrtc_SOURCE_DIR}/common_audio/signal_processing/min_max_operations.c
+    ${webrtc_SOURCE_DIR}/common_audio/signal_processing/randomization_functions.c
+    ${webrtc_SOURCE_DIR}/common_audio/signal_processing/real_fft.c
+    ${webrtc_SOURCE_DIR}/common_audio/signal_processing/refl_coef_to_lpc.c
+    ${webrtc_SOURCE_DIR}/common_audio/signal_processing/resample.c
+    ${webrtc_SOURCE_DIR}/common_audio/signal_processing/resample_48khz.c
+    ${webrtc_SOURCE_DIR}/common_audio/signal_processing/resample_by_2.c
+    ${webrtc_SOURCE_DIR}/common_audio/signal_processing/resample_by_2_internal.c
+    ${webrtc_SOURCE_DIR}/common_audio/signal_processing/resample_by_2_internal.h
+    ${webrtc_SOURCE_DIR}/common_audio/signal_processing/resample_fractional.c
+    ${webrtc_SOURCE_DIR}/common_audio/signal_processing/spl_init.c
+    ${webrtc_SOURCE_DIR}/common_audio/signal_processing/spl_sqrt.c
+    ${webrtc_SOURCE_DIR}/common_audio/signal_processing/splitting_filter.c
+    ${webrtc_SOURCE_DIR}/common_audio/signal_processing/sqrt_of_one_minus_x_squared.c
+    ${webrtc_SOURCE_DIR}/common_audio/signal_processing/vector_scaling_operations.c
+    ${webrtc_SOURCE_DIR}/common_audio/vad/include/vad.h
+    ${webrtc_SOURCE_DIR}/common_audio/vad/include/webrtc_vad.h
+    ${webrtc_SOURCE_DIR}/common_audio/vad/vad.cc
+    ${webrtc_SOURCE_DIR}/common_audio/vad/vad_core.c
+    ${webrtc_SOURCE_DIR}/common_audio/vad/vad_core.h
+    ${webrtc_SOURCE_DIR}/common_audio/vad/vad_filterbank.c
+    ${webrtc_SOURCE_DIR}/common_audio/vad/vad_filterbank.h
+    ${webrtc_SOURCE_DIR}/common_audio/vad/vad_gmm.c
+    ${webrtc_SOURCE_DIR}/common_audio/vad/vad_gmm.h
+    ${webrtc_SOURCE_DIR}/common_audio/vad/vad_sp.c
+    ${webrtc_SOURCE_DIR}/common_audio/vad/vad_sp.h
+    ${webrtc_SOURCE_DIR}/common_audio/vad/webrtc_vad.c
+    ${webrtc_SOURCE_DIR}/common_audio/audio_converter.cc
+    ${webrtc_SOURCE_DIR}/common_audio/audio_converter.h
+    ${webrtc_SOURCE_DIR}/common_audio/audio_ring_buffer.cc
+    ${webrtc_SOURCE_DIR}/common_audio/audio_ring_buffer.h
+    ${webrtc_SOURCE_DIR}/common_audio/audio_util.cc
+    ${webrtc_SOURCE_DIR}/common_audio/blocker.cc
+    ${webrtc_SOURCE_DIR}/common_audio/blocker.h
+    ${webrtc_SOURCE_DIR}/common_audio/channel_buffer.cc
+    ${webrtc_SOURCE_DIR}/common_audio/channel_buffer.h
+    ${webrtc_SOURCE_DIR}/common_audio/fft4g.c
+    ${webrtc_SOURCE_DIR}/common_audio/fft4g.h
+    ${webrtc_SOURCE_DIR}/common_audio/fir_filter.cc
+    ${webrtc_SOURCE_DIR}/common_audio/fir_filter.h
+    ${webrtc_SOURCE_DIR}/common_audio/lapped_transform.cc
+    ${webrtc_SOURCE_DIR}/common_audio/lapped_transform.h
+    ${webrtc_SOURCE_DIR}/common_audio/real_fourier.cc
+    ${webrtc_SOURCE_DIR}/common_audio/real_fourier.h
+    ${webrtc_SOURCE_DIR}/common_audio/real_fourier_ooura.cc
+    ${webrtc_SOURCE_DIR}/common_audio/real_fourier_ooura.h
+    ${webrtc_SOURCE_DIR}/common_audio/real_fourier_openmax.h
+    ${webrtc_SOURCE_DIR}/common_audio/ring_buffer.h
+    ${webrtc_SOURCE_DIR}/common_audio/ring_buffer.c
+    ${webrtc_SOURCE_DIR}/common_audio/sparse_fir_filter.cc
+    ${webrtc_SOURCE_DIR}/common_audio/sparse_fir_filter.h
+    ${webrtc_SOURCE_DIR}/common_audio/wav_file.h
+    ${webrtc_SOURCE_DIR}/common_audio/wav_file.cc
+    ${webrtc_SOURCE_DIR}/common_audio/wav_header.h
+    ${webrtc_SOURCE_DIR}/common_audio/wav_header.cc
+    ${webrtc_SOURCE_DIR}/common_audio/window_generator.h
+    ${webrtc_SOURCE_DIR}/common_audio/window_generator.cc
+)
+# sse2
+list(APPEND webrtc_SOURCES
+    ${webrtc_SOURCE_DIR}/common_audio/resampler/sinc_resampler_sse.cc
+    ${webrtc_SOURCE_DIR}/common_audio/fir_filter_sse.cc
+    ${webrtc_SOURCE_DIR}/common_audio/fir_filter_sse.h
+)
+list(APPEND webrtc_SOURCES
+    ${webrtc_SOURCE_DIR}/common_audio/signal_processing/complex_bit_reverse.c
+    ${webrtc_SOURCE_DIR}/common_audio/signal_processing/filter_ar_fast_q12.c
+    ${webrtc_SOURCE_DIR}/common_audio/signal_processing/spl_sqrt_floor.c
+)
+
+# modules
+list(APPEND webrtc_SOURCES
+    ${webrtc_SOURCE_DIR}/modules/interface/module_common_types.h
+    ${webrtc_SOURCE_DIR}/modules/utility/interface/audio_frame_operations.h
+)
+# modules/audio_coding
+list(APPEND webrtc_SOURCES
+    ${webrtc_SOURCE_DIR}/modules/audio_coding/codecs/isac/main/include/isac.h
+    ${webrtc_SOURCE_DIR}/modules/audio_coding/codecs/isac/main/source/arith_routines.c
+    ${webrtc_SOURCE_DIR}/modules/audio_coding/codecs/isac/main/source/arith_routines.h
+    ${webrtc_SOURCE_DIR}/modules/audio_coding/codecs/isac/main/source/arith_routines_hist.c
+    ${webrtc_SOURCE_DIR}/modules/audio_coding/codecs/isac/main/source/arith_routines_logist.c
+    ${webrtc_SOURCE_DIR}/modules/audio_coding/codecs/isac/main/source/codec.h
+    ${webrtc_SOURCE_DIR}/modules/audio_coding/codecs/isac/main/source/encode_lpc_swb.c
+    ${webrtc_SOURCE_DIR}/modules/audio_coding/codecs/isac/main/source/encode_lpc_swb.h
+    ${webrtc_SOURCE_DIR}/modules/audio_coding/codecs/isac/main/source/entropy_coding.c
+    ${webrtc_SOURCE_DIR}/modules/audio_coding/codecs/isac/main/source/entropy_coding.h
+    ${webrtc_SOURCE_DIR}/modules/audio_coding/codecs/isac/main/source/filter_functions.c
+    ${webrtc_SOURCE_DIR}/modules/audio_coding/codecs/isac/main/source/filterbanks.c
+    ${webrtc_SOURCE_DIR}/modules/audio_coding/codecs/isac/main/source/filterbank_tables.c
+    ${webrtc_SOURCE_DIR}/modules/audio_coding/codecs/isac/main/source/filterbank_tables.h
+    ${webrtc_SOURCE_DIR}/modules/audio_coding/codecs/isac/main/source/intialize.c
+    ${webrtc_SOURCE_DIR}/modules/audio_coding/codecs/isac/main/source/lpc_analysis.c
+    ${webrtc_SOURCE_DIR}/modules/audio_coding/codecs/isac/main/source/lpc_analysis.h
+    ${webrtc_SOURCE_DIR}/modules/audio_coding/codecs/isac/main/source/lpc_gain_swb_tables.c
+    ${webrtc_SOURCE_DIR}/modules/audio_coding/codecs/isac/main/source/lpc_gain_swb_tables.h
+    ${webrtc_SOURCE_DIR}/modules/audio_coding/codecs/isac/main/source/lpc_shape_swb12_tables.c
+    ${webrtc_SOURCE_DIR}/modules/audio_coding/codecs/isac/main/source/lpc_shape_swb12_tables.h
+    ${webrtc_SOURCE_DIR}/modules/audio_coding/codecs/isac/main/source/lpc_shape_swb16_tables.c
+    ${webrtc_SOURCE_DIR}/modules/audio_coding/codecs/isac/main/source/lpc_shape_swb16_tables.h
+    ${webrtc_SOURCE_DIR}/modules/audio_coding/codecs/isac/main/source/lpc_tables.c
+    ${webrtc_SOURCE_DIR}/modules/audio_coding/codecs/isac/main/source/lpc_tables.h
+    ${webrtc_SOURCE_DIR}/modules/audio_coding/codecs/isac/main/source/os_specific_inline.h
+    ${webrtc_SOURCE_DIR}/modules/audio_coding/codecs/isac/main/source/pitch_estimator.c
+    ${webrtc_SOURCE_DIR}/modules/audio_coding/codecs/isac/main/source/pitch_estimator.h
+    ${webrtc_SOURCE_DIR}/modules/audio_coding/codecs/isac/main/source/pitch_filter.c
+    ${webrtc_SOURCE_DIR}/modules/audio_coding/codecs/isac/main/source/pitch_gain_tables.c
+    ${webrtc_SOURCE_DIR}/modules/audio_coding/codecs/isac/main/source/pitch_gain_tables.h
+    ${webrtc_SOURCE_DIR}/modules/audio_coding/codecs/isac/main/source/pitch_lag_tables.c
+    ${webrtc_SOURCE_DIR}/modules/audio_coding/codecs/isac/main/source/pitch_lag_tables.h
+    ${webrtc_SOURCE_DIR}/modules/audio_coding/codecs/isac/main/source/settings.h
+    ${webrtc_SOURCE_DIR}/modules/audio_coding/codecs/isac/main/source/spectrum_ar_model_tables.c
+    ${webrtc_SOURCE_DIR}/modules/audio_coding/codecs/isac/main/source/spectrum_ar_model_tables.h
+    ${webrtc_SOURCE_DIR}/modules/audio_coding/codecs/isac/main/source/structs.h
+    ${webrtc_SOURCE_DIR}/modules/audio_coding/codecs/isac/bandwidth_info.h
+)
+# modules/audio_processing
+list(APPEND webrtc_SOURCES
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/include/audio_processing.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/aec/include/echo_cancellation.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/aec/aec_common.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/aec/aec_core.c
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/aec/aec_core.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/aec/aec_core_internal.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/aec/aec_rdft.c
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/aec/aec_rdft.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/aec/aec_resampler.c
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/aec/aec_resampler.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/aec/echo_cancellation.c
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/aec/echo_cancellation_internal.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/aecm/include/echo_control_mobile.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/aecm/echo_control_mobile.c
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/aecm/aecm_core.c
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/aecm/aecm_core.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/aecm/aecm_core_c.c
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/aecm/aecm_defines.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/agc/legacy/analog_agc.c
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/agc/legacy/analog_agc.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/agc/legacy/gain_control.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/agc/legacy/digital_agc.c
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/agc/legacy/digital_agc.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/agc/agc.cc
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/agc/agc.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/agc/agc_manager_direct.cc
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/agc/agc_manager_direct.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/agc/gain_map_internal.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/agc/histogram.cc
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/agc/histogram.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/agc/utility.cc
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/agc/utility.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/beamformer/array_util.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/beamformer/beamformer.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/beamformer/complex_matrix.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/beamformer/covariance_matrix_generator.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/beamformer/matrix.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/beamformer/matrix_test_helpers.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/beamformer/nonlinear_beamformer.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/beamformer/array_util.cc
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/beamformer/covariance_matrix_generator.cc
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/beamformer/nonlinear_beamformer.cc
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/intelligibility/intelligibility_enhancer.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/intelligibility/intelligibility_utils.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/intelligibility/intelligibility_enhancer.cc
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/intelligibility/intelligibility_utils.cc
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/logging/aec_logging.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/logging/aec_logging_file_handling.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/logging/aec_logging_file_handling.cc
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/transient/common.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/transient/daubechies_8_wavelet_coeffs.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/transient/dyadic_decimator.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/transient/file_utils.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/transient/moving_moments.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/transient/transient_detector.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/transient/transient_suppressor.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/transient/wpd_node.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/transient/wpd_tree.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/transient/click_annotate.cc
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/transient/file_utils.cc
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/transient/moving_moments.cc
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/transient/transient_detector.cc
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/transient/transient_suppressor.cc
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/transient/wpd_node.cc
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/transient/wpd_tree.cc
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/utility/delay_estimator.c
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/utility/delay_estimator.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/utility/delay_estimator_internal.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/utility/delay_estimator_wrapper.c
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/utility/delay_estimator_wrapper.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/vad/common.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/vad/gmm.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/vad/noise_gmm_tables.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/vad/pitch_based_vad.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/vad/pitch_internal.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/vad/pole_zero_filter.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/vad/standalone_vad.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/vad/vad_audio_proc.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/vad/vad_audio_proc_internal.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/vad/vad_circular_buffer.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/vad/voice_activity_detector.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/vad/voice_gmm_tables.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/vad/gmm.cc
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/vad/pitch_based_vad.cc
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/vad/pitch_internal.cc
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/vad/pole_zero_filter.cc
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/vad/standalone_vad.cc
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/vad/vad_audio_proc.cc
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/vad/vad_circular_buffer.cc
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/vad/voice_activity_detector.cc
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/audio_buffer.cc
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/audio_buffer.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/audio_processing_impl.cc
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/audio_processing_impl.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/common.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/echo_cancellation_impl.cc
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/echo_cancellation_impl.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/echo_control_mobile_impl.cc
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/echo_control_mobile_impl.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/gain_control_impl.cc
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/gain_control_impl.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/high_pass_filter_impl.cc
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/high_pass_filter_impl.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/level_estimator_impl.cc
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/level_estimator_impl.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/noise_suppression_impl.cc
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/noise_suppression_impl.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/rms_level.cc
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/rms_level.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/splitting_filter.cc
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/splitting_filter.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/processing_component.cc
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/processing_component.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/three_band_filter_bank.cc
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/three_band_filter_bank.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/typing_detection.cc
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/typing_detection.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/voice_detection_impl.cc
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/voice_detection_impl.h
+)
+# WEBRTC_NS_FLOAT
+list(APPEND webrtc_SOURCES
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/ns/defines.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/ns/include/noise_suppression.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/ns/noise_suppression.c
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/ns/ns_core.c
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/ns/ns_core.h
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/ns/windows_private.h
+)
+# sse2
+list(APPEND webrtc_SOURCES
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/aec/aec_core_sse2.c
+    ${webrtc_SOURCE_DIR}/modules/audio_processing/aec/aec_rdft_sse2.c
+)
+
+# system_wrappers
+list(APPEND webrtc_noinst_HEADERS
+    ${webrtc_SOURCE_DIR}/system_wrappers/include/aligned_array.h
+    ${webrtc_SOURCE_DIR}/system_wrappers/include/asm_defines.h
+    ${webrtc_SOURCE_DIR}/system_wrappers/include/condition_variable_wrapper.h
+    ${webrtc_SOURCE_DIR}/system_wrappers/include/compile_assert_c.h
+    ${webrtc_SOURCE_DIR}/system_wrappers/include/event_wrapper.h
+    ${webrtc_SOURCE_DIR}/system_wrappers/include/scoped_vector.h
+    ${webrtc_SOURCE_DIR}/system_wrappers/include/static_instance.h
+    ${webrtc_SOURCE_DIR}/system_wrappers/include/stl_util.h
+)
+list(APPEND webrtc_SOURCES
+    ${webrtc_SOURCE_DIR}/system_wrappers/include/aligned_malloc.h
+    ${webrtc_SOURCE_DIR}/system_wrappers/include/cpu_features_wrapper.h
+    ${webrtc_SOURCE_DIR}/system_wrappers/include/critical_section_wrapper.h
+    ${webrtc_SOURCE_DIR}/system_wrappers/include/file_wrapper.h
+    ${webrtc_SOURCE_DIR}/system_wrappers/include/logging.h
+    ${webrtc_SOURCE_DIR}/system_wrappers/include/metrics.h
+    ${webrtc_SOURCE_DIR}/system_wrappers/include/rw_lock_wrapper.h
+    ${webrtc_SOURCE_DIR}/system_wrappers/include/sleep.h
+    ${webrtc_SOURCE_DIR}/system_wrappers/include/thread_wrapper.h
+    ${webrtc_SOURCE_DIR}/system_wrappers/include/trace.h
+    ${webrtc_SOURCE_DIR}/system_wrappers/source/aligned_malloc.cc
+    ${webrtc_SOURCE_DIR}/system_wrappers/source/cpu_features.cc
+    ${webrtc_SOURCE_DIR}/system_wrappers/source/event.cc
+    ${webrtc_SOURCE_DIR}/system_wrappers/source/event_timer_posix.h
+    ${webrtc_SOURCE_DIR}/system_wrappers/source/event_timer_win.h
+    ${webrtc_SOURCE_DIR}/system_wrappers/source/file_impl.cc
+    ${webrtc_SOURCE_DIR}/system_wrappers/source/file_impl.h
+    ${webrtc_SOURCE_DIR}/system_wrappers/source/critical_section.cc
+    ${webrtc_SOURCE_DIR}/system_wrappers/source/critical_section_posix.h
+    ${webrtc_SOURCE_DIR}/system_wrappers/source/critical_section_win.h
+    ${webrtc_SOURCE_DIR}/system_wrappers/source/logging.cc
+    ${webrtc_SOURCE_DIR}/system_wrappers/source/metrics_default.cc
+    ${webrtc_SOURCE_DIR}/system_wrappers/source/rw_lock.cc
+    ${webrtc_SOURCE_DIR}/system_wrappers/source/rw_lock_generic.h
+    ${webrtc_SOURCE_DIR}/system_wrappers/source/rw_lock_posix.h
+    ${webrtc_SOURCE_DIR}/system_wrappers/source/rw_lock_win.h
+    ${webrtc_SOURCE_DIR}/system_wrappers/source/sleep.cc
+    ${webrtc_SOURCE_DIR}/system_wrappers/source/thread.cc
+    ${webrtc_SOURCE_DIR}/system_wrappers/source/thread_posix.h
+    ${webrtc_SOURCE_DIR}/system_wrappers/source/thread_win.h
+    ${webrtc_SOURCE_DIR}/system_wrappers/source/trace_impl.cc
+    ${webrtc_SOURCE_DIR}/system_wrappers/source/trace_impl.h
+    ${webrtc_SOURCE_DIR}/system_wrappers/source/trace_posix.h
+    ${webrtc_SOURCE_DIR}/system_wrappers/source/trace_win.h
+    ${webrtc_SOURCE_DIR}/system_wrappers/include/fix_interlocked_exchange_pointer_win.h
+    ${webrtc_SOURCE_DIR}/system_wrappers/source/critical_section_win.cc
+    ${webrtc_SOURCE_DIR}/system_wrappers/source/condition_variable.cc
+    ${webrtc_SOURCE_DIR}/system_wrappers/source/condition_variable_event_win.cc
+    ${webrtc_SOURCE_DIR}/system_wrappers/source/condition_variable_event_win.h
+    ${webrtc_SOURCE_DIR}/system_wrappers/source/condition_variable_native_win.cc
+    ${webrtc_SOURCE_DIR}/system_wrappers/source/condition_variable_native_win.h
+    ${webrtc_SOURCE_DIR}/system_wrappers/source/event_timer_win.cc
+    ${webrtc_SOURCE_DIR}/system_wrappers/source/rw_lock_win.cc
+    ${webrtc_SOURCE_DIR}/system_wrappers/source/rw_lock_generic.cc
+    ${webrtc_SOURCE_DIR}/system_wrappers/source/thread_win.cc
+    ${webrtc_SOURCE_DIR}/system_wrappers/source/trace_win.cc
+)
+
+add_library(webrtc-audio-processing ${webrtc_SOURCES})
+
+target_include_directories(webrtc-audio-processing PRIVATE ${CMAKE_CURRENT_SOURCE_DIR})
+target_compile_definitions(webrtc-audio-processing PRIVATE
+    WEBRTC_WIN
+    WEBRTC_AUDIO_PROCESSING_ONLY_BUILD
+    WEBRTC_NS_FLOAT
+    NOMINMAX
+    WIN32_LEAN_AND_MEAN
+)
+
+string( REPLACE "/EHsc" "" CMAKE_CXX_FLAGS_INIT ${CMAKE_CXX_FLAGS_INIT} )
+string( REPLACE "/EHsc" "" CMAKE_C_FLAGS_INIT ${CMAKE_C_FLAGS_INIT} )
+string( REPLACE "/EHs" "" CMAKE_CXX_FLAGS ${CMAKE_CXX_FLAGS_INIT} )
+string( REPLACE "/EHs" "" CMAKE_C_FLAGS_INIT ${CMAKE_C_FLAGS_INIT} )
+
+target_compile_options(webrtc-audio-processing PRIVATE
+    /nologo;/Zi;/wd4244;/wd4530;/wd4334;/wd4996;/wd4267;/wd4477;
+    ${DEFAULT_CXX_EXCEPTION_HANDLING}
+)
+
-- 
2.28.0.windows.1

